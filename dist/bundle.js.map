{"version":3,"file":"bundle.js","sources":["../src/utils.js","../src/lib/events/types/GenericEvent.js","../src/lib/events/types/CloseEvent.js","../src/lib/events/types/OpenEvent.js","../src/lib/events/types/RepositionEvent.js","../src/lib/events/EventEmitter.js","../src/index.js"],"sourcesContent":["function mergeOptions(defaultOptions = {}, userOptions = {}) {\n  return Object.keys(defaultOptions)\n    .reduce((obj, key) => (\n      Object.assign(obj, {\n        [key]: userOptions[key]\n          ? userOptions[key]\n          : defaultOptions[key],\n      })\n    ), {});\n}\n\nexport default {\n  mergeOptions,\n};\n","/**\n * The base 'event' class used by an EventEmitter.\n *\n * @class GenericEvent\n */\nclass GenericEvent {\n  /**\n   * @param {string} eventType - The 'type' that will be listened for.\n   * @param {object} payload - Any additional data.\n   */\n  constructor(eventType, payload = {}) {\n    this.type = eventType;\n    this.payload = payload;\n  }\n\n  /**\n   * @param {string} eventType\n   */\n  set type(eventType) {\n    // Do not allow re-assignment\n    if (this.eventType) return;\n    this.eventType = eventType;\n  }\n\n  /**\n   * @return string;\n   */\n  get type() {\n    if (!this.eventType) {\n      throw new Error('Not implemented.');\n    }\n\n    return this.eventType;\n  }\n}\n\nexport default GenericEvent;\n","import GenericEvent from './GenericEvent';\n\nclass CloseEvent extends GenericEvent {\n  constructor(...args) {\n    super('close', ...args);\n  }\n}\n\nexport default CloseEvent;\n","import GenericEvent from './GenericEvent';\n\n/**\n * Indicates the instance has opened.\n *\n * @class OpenEvent\n * @extends {GenericEvent}\n */\nclass OpenEvent extends GenericEvent {\n  constructor(...args) {\n    super('open', ...args);\n  }\n}\n\nexport default OpenEvent;\n","import GenericEvent from './GenericEvent';\n\nclass RepositionEvent extends GenericEvent {\n  constructor(...args) {\n    super('reposition', ...args);\n  }\n}\n\nexport default RepositionEvent;\n","import GenericEvent from './types/GenericEvent';\n\n/**\n * Allows registration of callbacks that will be triggered on specific events.\n *\n * @class EventEmitter\n */\nclass EventEmitter {\n  constructor() {\n    this.callbacks = {};\n  }\n\n  /**\n   * Used to listen for an event and fire a callback.\n   *\n   * @param {string} type - The event type, will need to match an existing type.\n   * @param {function} callback - The callback function to run.\n   */\n  on(type, callback) {\n    this.callbacks = Object.assign({}, this.callbacks, {\n      [type]: [...(this.callbacks[type] || []), callback],\n    });\n  }\n\n  /**\n   * Takes an event (e.g. Open) and fires the callbacks for it.\n   *\n   * @param {GenericEvent} event - The event type.\n   * @example emitter.trigger(new OpenEvent());\n   */\n  trigger(event) {\n    if (!(event instanceof GenericEvent)) {\n      console.error('Not a valid GenericEvent instance.', event);\n      return;\n    }\n\n    const callbacks = this.callbacks[event.type];\n\n    if (!callbacks) return;\n\n    callbacks.forEach((cb) => {\n      try {\n        cb(event);\n      } catch (e) {\n        console.error(e);\n      }\n    });\n  }\n}\n\nexport default EventEmitter;\n","import Limelight from './lib/Limelight';\n\nexport default Limelight;\n\n// document.addEventListener('DOMContentLoaded', () => {\n//   // const targets = document.querySelectorAll('.box__thing');\n//   const targets = document.querySelector('.box__thing');\n//   const boxGrad = new Limelight(targets);\n\n//   document.querySelector('.js-start').addEventListener('click', (e) => {\n//     e.stopPropagation();\n//     e.preventDefault();\n//     boxGrad.open();\n//   });\n\n//   boxGrad.on('open', (e) => {\n//     console.log('opening', e);\n//   });\n\n//   boxGrad.on('close', (e) => {\n//     console.log('closing', e);\n//   });\n\n//   boxGrad.on('reposition', (e) => {\n//     console.log('repositioning', e);\n//   });\n\n\n//   setTimeout(() => {\n//     boxGrad.refocus(document.querySelector('.other-thing'));\n//   }, 2000);\n\n//   // targets.forEach(target => {\n//   //   target.addEventListener('open', () => {\n//   //     console.log('we are opening');\n//   //   });\n//   //   target.addEventListener('close', () => {\n//   //     console.log('we are closing');\n//   //   });\n//   // })\n\n//   console.log(boxGrad);\n// });\n"],"names":[],"mappings":"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"}